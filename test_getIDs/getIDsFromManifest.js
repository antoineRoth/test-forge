var manifest = `{
    "urn": "dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dGVzdF9jb2xsYWJfdjQvUHJvamVjdDEuaWZj",
    "derivatives": [
        {
            "hasThumbnail": "true",
            "children": [
                {
                    "guid": "0f98e500-7abe-412d-b1a4-2feed9d2832f",
                    "type": "geometry",
                    "role": "3d",
                    "name": "Project1.ifc",
                    "status": "success",
                    "hasThumbnail": "true",
                    "progress": "complete",
                    "viewableID": "Project1.ifc",
                    "useAsDefault": true,
                    "children": [
                        {
                            "guid": "5fa45b8b-654c-40be-b85c-d1c0b273411f",
                            "type": "view",
                            "role": "3d",
                            "name": "Default",
                            "status": "success",
                            "camera": [
                                -5113.89453125,
                                4546.49365234375,
                                14198.802734375,
                                -5113.89453125,
                                4546.49365234375,
                                2853.30517578125,
                                0,
                                1,
                                0,
                                1,
                                0.785398006439209,
                                1,
                                0
                            ],
                            "useAsDefault": true,
                            "hasThumbnail": "true",
                            "children": [
                                {
                                    "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dGVzdF9jb2xsYWJfdjQvUHJvamVjdDEuaWZj/output/0/0_100.png",
                                    "role": "thumbnail",
                                    "mime": "image/png",
                                    "guid": "ad16943a-4c0a-4646-a973-5fca0a67841d",
                                    "type": "resource",
                                    "resolution": [
                                        100,
                                        100
                                    ]
                                },
                                {
                                    "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dGVzdF9jb2xsYWJfdjQvUHJvamVjdDEuaWZj/output/0/0_200.png",
                                    "role": "thumbnail",
                                    "mime": "image/png",
                                    "guid": "d4b589cf-768d-45ec-bf08-4b9f678a9c4d",
                                    "type": "resource",
                                    "resolution": [
                                        200,
                                        200
                                    ]
                                },
                                {
                                    "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dGVzdF9jb2xsYWJfdjQvUHJvamVjdDEuaWZj/output/0/0_400.png",
                                    "role": "thumbnail",
                                    "mime": "image/png",
                                    "guid": "f9b81df4-7efe-404d-9ad2-6bbfa7ae372f",
                                    "type": "resource",
                                    "resolution": [
                                        400,
                                        400
                                    ]
                                }
                            ]
                        },
                        {
                            "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dGVzdF9jb2xsYWJfdjQvUHJvamVjdDEuaWZj/output/0/0.svf",
                            "role": "graphics",
                            "mime": "application/autodesk-svf",
                            "guid": "c3cc708e-18c8-40b3-bf14-e8a487827a57",
                            "type": "resource"
                        }
                    ]
                },
                {
                    "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dGVzdF9jb2xsYWJfdjQvUHJvamVjdDEuaWZj/output/0/properties.db",
                    "role": "Autodesk.CloudPlatform.PropertyDatabase",
                    "mime": "application/autodesk-db",
                    "guid": "8245ae25-4ede-4797-9c73-0d559bc29124",
                    "type": "resource",
                    "status": "success"
                }
            ],
            "name": "Project1.ifc",
            "progress": "complete",
            "outputType": "svf",
            "status": "success"
        }
    ],
    "hasThumbnail": "true",
    "progress": "complete",
    "type": "manifest",
    "region": "US",
    "version": "1.0",
    "status": "success"
}`

var manifest2 = `{
  "type": "manifest",
  "hasThumbnail": "true",
  "status": "success",
  "progress": "complete",
  "region": "US",
  "urn": "dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA",
  "derivatives": [
    {
      "name": "A5.iam",
      "hasThumbnail": "true",
      "status": "success",
      "progress": "complete",
      "outputType": "svf",
      "children": [
        {
          "guid": "d998268f-eeb4-da87-0db4-c5dbbc4926d0",
          "type": "geometry",
          "role": "3d",
          "name": "Scene",
          "status": "success",
          "progress": "complete",
          "hasThumbnail": "true",
          "children": [
            {
              "guid": "4f981e94-8241-4eaf-b08b-cd337c6b8b1f",
              "type": "resource",
              "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/1/A5.svf",
              "role": "graphics",
              "mime": "application/autodesk-svf"
            },
            {
              "guid": "d718eb7e-fa8a-42f9-8b32-e323c0fbea0c",
              "type": "resource",
              "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/1/A5.svf.png01_thumb_400x400.png",
              "resolution": [
                400.0,
                400.0
              ],
              "mime": "image/png",
              "role": "thumbnail"
            },
            {
              "guid": "34dc340b-835f-47f7-9da5-b8219aefe741",
              "type": "resource",
              "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/1/A5.svf.png01_thumb_200x200.png",
              "resolution": [
                200.0,
                200.0
              ],
              "mime": "image/png",
              "role": "thumbnail"
            },
            {
              "guid": "299c6ba6-650e-423e-bbd6-3aaff44ee104",
              "type": "resource",
              "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/1/A5.svf.png01_thumb_100x100.png",
              "resolution": [
                100.0,
                100.0
              ],
              "mime": "image/png",
              "role": "thumbnail"
            }
          ]
        },
        {
          "guid": "b86dcf4d-dd4e-561a-1b52-50ee01f7af4f",
          "hasThumbnail": "true",
          "progress": "complete",
          "role": "2d",
          "status": "success",
          "type": "geometry",
          "children": [
            {
              "guid": "cfe81eb4-fbc6-17c0-beba-3ab845d228f0",
              "mime": "image/png",
              "resolution": [
                100,
                100
              ],
              "role": "thumbnail",
              "status": "success",
              "type": "resource",
              "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/661c6096-056d-e58c-6c87-38769662932f_f2d/02___Floor1.png"
            },
            {
              "guid": "03c34714-36c7-b2bf-eb19-245f26c15e50",
              "mime": "image/png",
              "resolution": [
                200,
                200
              ],
              "role": "thumbnail",
              "status": "success",
              "type": "resource",
              "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/661c6096-056d-e58c-6c87-38769662932f_f2d/02___Floor2.png"
            },
            {
              "guid": "b680b9ec-5240-6858-b7ef-7e9adafd9d9a",
              "mime": "image/png",
              "resolution": [
                400,
                400
              ],
              "role": "thumbnail",
              "status": "success",
              "type": "resource",
              "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/661c6096-056d-e58c-6c87-38769662932f_f2d/02___Floor4.png"
            },
            {
              "guid": "a81433d1-e3e7-97f8-17f2-e85c1bbc1f66",
              "mime": "application/autodesk-f2d",
              "role": "graphics",
              "status": "success",
              "type": "resource",
              "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/661c6096-056d-e58c-6c87-38769662932f_f2d/primaryGraphics.f2d"
            },
            {
              "guid": "5d2d63c3-943e-4111-b0fe-75abfeb85cb8",
              "name": "Floor Plan: 02 - Floor",
              "role": "2d",
              "type": "view",
              "viewbox": [
                0,
                0,
                279.4,
                215.9
              ]
            }
          ]
        }
      ]
    },
    {
      "status": "success",
      "progress": "complete",
      "outputType": "step",
      "children": [
        {
          "guid": "a6128518-dcf0-967b-31a1-3439a375daeb",
          "role": "STEP",
          "mime": "application/octet-stream",
          "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/1/A5.stp",
          "status": "success",
          "type": "resource"
        }
      ]
    },
    {
      "name": "A5.iam",
      "hasThumbnail": "true",
      "status": "success",
      "progress": "complete",
      "outputType": "thumbnail",
      "children": [
        {
          "guid": "63c50197-c285-411b-bcfd-b3f19b1d37ef",
          "mime": "image/png",
          "resolution": [
            256,
            256
          ],
          "role": "thumbnail",
          "type": "resource",
          "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/256x256.png"
        }
      ]
    },
    {
      "status": "success",
      "progress": "complete",
      "outputType": "obj",
      "children": [
        {
          "guid": "1122e136-ea24-31ee-a7ef-ad065fafad42",
          "type": "resource",
          "role": "obj",
          "modelGUID": "4f981e94-8241-4eaf-b08b-cd337c6b8b1f",
          "objectIds": [
            2,
            3,
            4
          ],
          "status": "success",
          "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/geometry/bc3339b2-73cd-4fba-9cb3-15363703a354.obj"
        },
        {
          "guid": "29c1c0d4-7a35-350a-b3e5-fb221b054e29",
          "type": "resource",
          "role": "obj",
          "modelGUID": "4f981e94-8241-4eaf-b08b-cd337c6b8b1f",
          "objectIds": [
            2,
            3,
            4
          ],
          "status": "success",
          "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/geometry/bc3339b2-73cd-4fba-9cb3-15363703a354.mtl"
        },
        {
          "guid": "3e9752f1-5989-38b1-bff1-1f2d81841c8a",
          "type": "resource",
          "role": "obj",
          "modelGUID": "4f981e94-8241-4eaf-b08b-cd337c6b8b1f",
          "objectIds": [
            2,
            3,
            4
          ],
          "status": "success",
          "urn": "urn:adsk.viewing:fs.file:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6bW9kZWxkZXJpdmF0aXZlL0E1LnppcA/output/geometry/bc3339b2-73cd-4fba-9cb3-15363703a354.zip"
        }
      ]
    }
  ]
}`

manifest2 = JSON.parse(manifest2);

var derivatives = manifest2.derivatives;
//var branches = 0;

getGUIDs(derivatives);

//affiche dans la console tous les guids présents dans le json
//fonction récursive prenant en paramètre un tableau d'objets
function getGUIDs (tab) {
	var i = 0;
  //var hadID = false;
	while (tab[i]!=undefined) {
		if (tab[i].guid!=undefined) {
			console.log(tab[i].guid);
      //hadID = true;
		}
		if (tab[i].children!=undefined) {
			getGUIDs(tab[i].children);
		}
		i++;
	}
  /*if (hadID) {
    branches++;
    console.log("branche : " + branches);
  }*/
}


